<!DOCTYPE html>
<html>
<head>
    <title>Quick Test - Thermal Simulator</title>
    <style>
            font-family: monospace; 
            background: #111; 
            color: #fff; 
            padding: 20px; 
        .status { 
            padding: 10px; 
            margin: 5px 0; 
            border-radius: 5px; 
            background: #333; 
        }
        .success { background: #2d5a2d; }
        .error { background: #5a2d2d; }
        .info { background: #2d2d5a; }
    </style>
</head>
<body>
    <h2>üîç Thermal Simulator Status Check</h2>
    <div id="results"></div>
    <script>
        function addResult(message, type = 'status') {
            const div = document.createElement('div');
            div.className = type;
            div.textContent = message;
            document.getElementById('results').appendChild(div);
            console.log(message);
        }
        function checkStatus() {
            addResult('üîÑ Checking thermal simulator...', 'info');
            // Check if main page loads
            fetch('/index.html')
                .then(response => {
                    if (response.ok) {
                        addResult('‚úÖ index.html loads successfully', 'success');
                        
                        // Check scripts
                        return Promise.all([
                            fetch('/config.js'),
                            fetch('/main.js'),
                            fetch('/gpu-compute.js'),
                            fetch('/background.js')
                        ]);
                    } else {
                        throw new Error('Failed to load index.html');
                    }
                })
                .then(responses => {
                    const scriptStatus = responses.map((r, i) => {
                        const scripts = ['config.js', 'main.js', 'gpu-compute.js', 'background.js'];
                        return { name: scripts[i], ok: r.ok };
                    });
                    
                    scriptStatus.forEach(script => {
                        if (script.ok) {
                            addResult(`‚úÖ ${script.name} loads successfully`, 'success');
                        } else {
                            addResult(`‚ùå ${script.name} failed to load`, 'error');
                        }
                    });
                    
                    // Test JavaScript execution
                    const iframe = document.createElement('iframe');
                    iframe.style.display = 'none';
                    iframe.src = '/index.html';
                    iframe.onload = () => {
                        setTimeout(() => {
                            try {
                                const thermalBrush = iframe.contentWindow.thermalBrush;
                                if (thermalBrush) {
                                    addResult('‚úÖ ThermalBrush initialized successfully', 'success');
                                    addResult(`‚úÖ Using ${thermalBrush.useGPU ? 'GPU' : 'CPU'} acceleration`, 'success');
                                    addResult('üéâ Website is fully responsive!', 'success');
                                } else {
                                    addResult('‚ùå ThermalBrush not initialized', 'error');
                                }
                            } catch (error) {
                                addResult(`‚ùå JavaScript error: ${error.message}`, 'error');
                            }
                            document.body.removeChild(iframe);
                        }, 2000);
                    };
                    iframe.onerror = () => {
                        addResult('‚ùå Failed to load main application', 'error');
                        document.body.removeChild(iframe);
                    };
                    document.body.appendChild(iframe);
                })
                .catch(error => {
                    addResult(`‚ùå Error: ${error.message}`, 'error');
                });
        }
        
        // Run check
        checkStatus();
    </script>
</body>
</html>